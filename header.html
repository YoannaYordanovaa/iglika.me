<div class="logo">
  <a href="index"><img src="index_img/IglikaLogo.png" alt="Logo" /></a>
</div>
<input type="checkbox" title="menu-bar" id="menu-bar" />
<label for="menu-bar"><img src="index_img/hamburger.svg" alt="" /></label>
<nav class="navbar">
  <ul>
    <li class="h1"><a href="index">За мен</a></li>
    <li class="h1">
      <a href="products">Продукти</a
      ><span class="arrow"><i class="fa fa-angle-down"></i></span>
      <ul>
        <li>
          <a href="health">Напитки и добавки</a
          ><span class="arrow"><i class="fa fa-angle-down"></i></span>
          <ul>
            <li><a href="drinks">Напитки</a></li>
            <li><a href="supplements">Добавки</a></li>
          </ul>
        </li>
        <li>
          <a href="cosmetics">Козметика</a
          ><span class="arrow"><i class="fa fa-angle-down"></i></span>
          <ul>
            <li><a href="face">Грижа за лицето</a></li>
            <li><a href="body">Грижа за тялото</a></li>
            <li><a href="personal_hygiene">Лична хигиена</a></li>
          </ul>
        </li>
        <li><a href="weightcontrol">Контрол на теглото</a></li>
        <li><a href="packages">Пакети</a></li>
      </ul>
    </li>
    <li class="h1"><a href="contacts">Контакти</a></li>
    <li class="h1 shop"><a href="shop">Пазарувай с отстъпка</a></li>
  </ul>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Select all arrows
    document.querySelectorAll(".arrow").forEach(function (arrow) {
      arrow.addEventListener("click", function (e) {
        e.stopPropagation(); // Prevent event bubbling

        const submenu = this.nextElementSibling; // Get the submenu (next sibling)

        if (submenu && submenu.tagName === "UL") {
          // Toggle submenu visibility
          const isOpen = submenu.style.display === "block";
          submenu.style.display = isOpen ? "none" : "block";

          // Toggle arrow rotation by adding/removing a class
          this.classList.toggle("expanded", !isOpen);
        }
      });
    });
  });
</script>
<script>
  $(document).ready(function () {
    // On page load, set the active link from localStorage
    const activeHref = localStorage.getItem("activeLink"); // Get the saved href
    if (activeHref) {
      $("#categories a").removeClass("active"); // Remove active from all
      $(`#categories a[href="${activeHref}"]`).addClass("active"); // Add active to saved href
    }

    // On link click, set active and save href to localStorage
    $("#categories a").click(function () {
      const clickedHref = $(this).attr("href"); // Get href of clicked link
      localStorage.setItem("activeLink", clickedHref); // Save to localStorage

      $("#categories a").removeClass("active"); // Remove active from all
      $(this).addClass("active"); // Add active to clicked link
    });
  });
</script>
